---
title: Reading File and Clipboard Content
author: Ulyana Skorokhodova
categories: [howtos, ecl]
forum: https://www.eclipse.org/forums/index.php/t/1069320/
---

{% import "macros" as m %}

<h3>Reading file content</h3>

Until recently there was a few ways to get a file content:<br>

<ul>
<li>Opening file editor in GUI and getting it's <i>text</i> property
<li>Using <a href="https://hudson.eclipse.org/rcptt/job/rcptt-all/ws/releng/doc/target/doc/ecl/index.html#read-csv-file"><b>read-csv-file</b></a> and <a href="https://hudson.eclipse.org/rcptt/job/rcptt-all/ws/releng/doc/target/doc/ecl/index.html#read-lines"><b>read-lines</b></a> commands</li>
</ul>

Both ways have obvious restrictions making their usage not very user-friendly, so we decided to implement a new <a href="https://hudson.eclipse.org/rcptt/job/rcptt-all/ws/releng/doc/target/doc/ecl/index.html#read-file"><b>read-file</b></a> ECL command to get a file content.<br><!-- break -->
It takes a file <i><b>uri</b></i> as an argument and returns a String content of a file:

<p><img src="{{site.url}}/shared/img/blog/fileClipboardContent/screenshot_readFile-1.png" /></p><br>

You can use either absolute or relative uri (use workspace:/ to point to your AUT workspace):

<p><img src="{{site.url}}/shared/img/blog/fileClipboardContent/screenshot-readFile-2.png" /></p><br>

Usually you need to get a file content for further verifications. Lat's say we need to compare a content of two files. <br>
So here what our test will look like:

<p><img src="{{site.url}}/shared/img/blog/fileClipboardContent/screenshot-readFile-3.png" /></p><br>

<div class="panel panel-warning">
<div class="panel-heading">
What may go wrong?
</div>
  <div class="panel-body">
    <i><b>Failed to read</b> /MyProject/Unexisting.txt at read-file (/ReadFile/Test.test:3)</i> - means that there is <b>no such file</b>. <br>
    <i><b>Failed to resolve</b> /MyProject/Copy.txt at read-file (/ReadFile/Test.test:3)</i> - means that file uri is in <b>wrong format</b>. Most likely you forgot to add <b>file:/</b> to a file path. 
  </div>
</div>

<h3>Operating with a Clipboard</h3>

Clipboard is always used to check a correct work of Copy/Paste actions. <br>
RCPTT can now operate with a clipboard directly using <b><a href="https://hudson.eclipse.org/rcptt/job/rcptt-all/ws/releng/doc/target/doc/ecl/index.html#to-clipboard">to-clipboard</a></b> and <b><a href="https://hudson.eclipse.org/rcptt/job/rcptt-all/ws/releng/doc/target/doc/ecl/index.html#from-clipboard">from-clipboard</a></b> commands.<br>

So if you need to paste something you don't need to do coping actions before. You can do like:

<p><img src="{{site.url}}/shared/img/blog/fileClipboardContent/screenshot_clipboard-1.png" /></p><br>

Likewise, if you need to check that copying works correctly, you don't need to do pasting afterwards. You may simply check a clipboard content right from ECL script: 

<p><img src="{{site.url}}/shared/img/blog/fileClipboardContent/screenshot_clipboard-2.png" /></p><br> 

<div class="panel panel-info">
<div class="panel-heading">
Information
</div>
   <div class="panel-body">
    If you need to put a big text into a clipboard it may be more convenient to use ECL Script Context for this purpose (just to make your test script more readable and laconic).
    Please note that Workbench Context clears clipboard, so make sure that your ECL Script Context goes after a Workbench one. 
     </div>
</div> 





